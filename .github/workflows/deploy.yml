name: Deploy to InfinityFree

on:
  push:
    branches: [ main ]  # Lub 'master' – gałąź, na której chcesz auto-deploy

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4  # Pobiera kod z repo

    - name: Deploy via FTP
      uses: SamKirkland/FTP-Deploy-Action@v4.3.5  # Popularna akcja do FTP
      with:
        server: ${{ secrets.FTP_SERV }}
        username: ${{ secrets.FTP_USER }}
        password: ${{ secrets.FTP_PASS }}
        local-dir: ./  # Lokalny folder do uploadu (dostosuj, np. ./public)
        server-dir: ${{ secrets.DEPLOY_PATH }}  # Ścieżka na serwerze
        exclude: |  # Wyklucz pliki, których nie chcesz nadpisywać
          **/.git*
          **/.github*
          README.md
